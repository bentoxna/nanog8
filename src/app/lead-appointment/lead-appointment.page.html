<ion-header class="ion-no-border" style="box-shadow: 0px 10px 15px rgba(0, 0, 0, 0.12);">
  <div
    style="width: 100%; display: flex; justify-content:space-between; align-items: center; padding: 16px 24px; background: #6DAD48;">

    <ion-icon (click)='back()' style='font-size:16px;color: #FFFFFF;' name="chevron-back-outline"></ion-icon>

    <div style="color: #FFFFFF; font-size:16px; font-weight:600;">Lead-Appointment</div>

    <ion-icon style='font-size:20px;color: #FFFFFF; visibility: hidden;' name="chevron-back-outline"></ion-icon>
  </div>
</ion-header>

<ion-content>

  <div style="width:100%; ">

    <div (click)="refresh()"
      style="display: flex;align-items: center;cursor: pointer;margin-left: 10px; position: fixed; z-index: 1002; bottom: 10px; right: 10px;">
      <div class="resetBtn"
        style="display: flex;align-items: center;margin-left: 20px; font-size: 32px; height: 28px; width: 28px;">
        <ion-icon style="font-size: 30px;" name="refresh-circle"></ion-icon>
      </div>
      <!-- <div style="font-size: 14px;font-weight: 500;">Refresh Data</div> -->
    </div>

    <div style="width: 100%;display: flex;flex-wrap: wrap;">
      <!-- Details Panel -->
      <div style="width: 100%;flex-grow: 1;display: flex;flex-direction: column;">
        <div style="width: 100%;max-width: 700px;">

          <!-- Tabs -->
          <div
            style="width: 100%;height: 50px;background: #6CAD47;display: flex;flex-direction: column;justify-content: flex-end;padding: 0 20px;">

            <div style="width: 100%;display: flex;align-items: center;justify-content: space-between; font-size: 14px;">

              <div (click)="tabClicked('details')" [ngClass]="tabs == 'details' ? 'click' : 'xclick'" style="width: 50%;height: 40px;display: flex;margin: 0 5px;
                align-items: center; justify-content: center;font-weight: 500; border-radius: 10px 10px 0 0;
                cursor: pointer;padding: 0 5px;">Details</div>

              <!-- <div (click)="tabClicked('appointment')" [ngClass]="tabs == 'appointment' ? 'click' : 'xclick'" style="width: 50%;height: 40px;display: flex;margin: 0 5px;
                align-items: center; justify-content: center;font-weight: 500; border-radius: 10px 10px 0 0;
                cursor: pointer;padding: 0 5px;">Appointment</div> -->
                
              <div (click)="tabClicked('appointmentSE')" [ngClass]="tabs == 'appointment' ? 'click' : 'xclick'" style="width: 50%;height: 40px;display: flex;margin: 0 5px;
                align-items: center; justify-content: center;font-weight: 500; border-radius: 10px 10px 0 0;
                cursor: pointer;padding: 0 5px;">Appointment</div>


            </div>
          </div>

          <!-- Details -->
          <div *ngIf="tabs == 'details'"
            style="width: 100%;border-radius: 0 0 10px 10px;background: white;box-shadow: 0 5px 8px rgba(0, 0, 0, 0.12);padding: 40px;margin-right: 20px;">

            <div>

              <!-- Title -->
              <div style="display: flex;align-items: center; margin-top: 15px;">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="font-weight: 600;font-size: 12px;color: black;">Title</div>
              </div>

              <div style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;position: relative;">

                <ion-input clearInput placeholder="Select Title" [(ngModel)]="keywordTitle"
                  (ionFocus)="focus(true, 'this.selectionTitle')" (ionBlur)="focus(false, 'this.selectionTitle')"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px;">
                </ion-input>

                <div *ngIf="selectionTitle"
                  style="width: 100%;max-height: 200px;overflow-y: scroll;border-radius: 5px 2px 2px 5px;z-index: 11;position: absolute;">
                  <div *ngFor="let x of filterer(title, 'this.keywordTitle'); let i = index" class="dropdown"
                    (click)="selected(x, 'this.keywordTitle', 'this.lead.customer_title')"
                    style="display: flex;align-items: center;  height: 36px; display: flex; align-items: center;  cursor: pointer; width: 100%;">
                    <div style="font-size: 12px; width: calc( 100% -30px );padding-left: 10px;">{{x}}</div>
                  </div>
                </div>

              </div>


              <!-- Name -->
              <div style="display: flex;align-items: center;">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="font-weight: 600;font-size: 12px;color: black;">Customer Name<span style="color: red;">
                    *</span>
                </div>
              </div>

              <div style="background: #F0F8ED;border-radius: 10px;margin-top: 5px;">
                <ion-input placeholder="Eg. Rebecca" [(ngModel)]="lead['customer_name']"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px">
                </ion-input>
              </div>

              <!-- Phone -->
              <div style="display: flex;align-items: center;margin-top: 15px;">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="font-weight: 600;font-size: 12px;color: black;">Customer Phone<span style="color: red;">
                    *</span>
                </div>
              </div>

              <div style="background: #F0F8ED;border-radius: 10px;margin-top: 5px;">
                <ion-input type="number" placeholder="Eg. 60101234566" [(ngModel)]="lead['customer_phone']"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px">
                </ion-input>
              </div>

              <!-- Email -->
              <div style="display: flex;align-items: center; margin-top: 15px;">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="font-weight: 600;font-size: 12px;color: black;">Customer Email
                  <!-- <span style="color: red;">
                    *</span> -->
                </div>
              </div>

              <div style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;">
                <ion-input placeholder="Eg. rebecca@mail.com" [(ngModel)]="lead['customer_email']"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px">
                </ion-input>
              </div>

              <!-- gender -->
              <div style="display: flex;align-items: center; margin-top: 15px;">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="font-weight: 600;font-size: 12px;color: black;">Gender</div>
              </div>

              <div style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;position: relative;">

                <ion-input clearInput placeholder="Select Gender" [(ngModel)]="keywordGender"
                  (ionFocus)="focus(true, 'this.selectionGender')" (ionBlur)="focus(false, 'this.selectionGender')"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px;">
                </ion-input>

                <div *ngIf="selectionGender"
                  style="width: 100%;max-height: 200px;overflow-y: scroll;border-radius: 5px 2px 2px 5px;z-index: 11;position: absolute;">
                  <div *ngFor="let x of filterer(gender, 'this.keywordGender'); let i = index" class="dropdown"
                    (click)="selected(x, 'this.keywordGender', 'this.lead.gender')"
                    style="display: flex;align-items: center;  height: 36px; display: flex; align-items: center;  cursor: pointer; width: 100%;">
                    <div style="font-size: 12px; width: calc( 100% -30px );padding-left: 10px;">{{x}}</div>
                  </div>
                </div>

              </div>

              <!-- race -->
              <div style="display: flex;align-items: center; margin-top: 15px;">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="font-weight: 600;font-size: 12px;color: black;">Race</div>
              </div>

              <div style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;position: relative;">

                <ion-input clearInput placeholder="Select Race" [(ngModel)]="keywordRace"
                  (ionFocus)="focus(true, 'this.selectionRace')" (ionBlur)="focus(false, 'this.selectionRace')"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px;">
                </ion-input>

                <div *ngIf="selectionRace"
                  style="width: 100%;max-height: 200px;overflow-y: scroll;border-radius: 5px 2px 2px 5px;z-index: 11;position: absolute;">
                  <div *ngFor="let x of filterer(race, 'this.keywordRace'); let i = index" class="dropdown"
                    (click)="selected(x, 'this.keywordRace', 'this.lead.race')"
                    style="display: flex;align-items: center;  height: 36px; display: flex; align-items: center;  cursor: pointer; width: 100%;">
                    <div style="font-size: 12px; width: calc( 100% -30px );padding-left: 10px;">{{x}}</div>
                  </div>
                </div>

              </div>

              <!-- State -->
              <div style="display: flex;align-items: center; margin-top: 15px;">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="font-weight: 600;font-size: 12px;color: black;">State</div>
              </div>

              <!-- <div style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;">
                <ion-input placeholder="Eg. Selangor" [(ngModel)]="lead['customer_state']"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px">
                </ion-input>
              </div> -->
              <div style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;position: relative;">

                <ion-input clearInput placeholder="Select State" [(ngModel)]="keywordState"
                  (ionFocus)="focus(true, 'this.selectionState')" (ionBlur)="focus(false, 'this.selectionState')"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px;">
                </ion-input>

                <div *ngIf="selectionState"
                  style="width: 100%;max-height: 200px;overflow-y: scroll;border-radius: 5px 2px 2px 5px;z-index: 11;position: absolute;">
                  <div *ngFor="let x of filterer(state, 'this.keywordState'); let i = index" class="dropdown"
                    (click)="selected(x, 'this.keywordState', 'this.lead.customer_state')"
                    style="display: flex;align-items: center;  height: 36px; display: flex; align-items: center;  cursor: pointer; width: 100%;">
                    <div style="font-size: 12px; width: calc( 100% -30px );padding-left: 10px;">{{x}}</div>
                  </div>
                </div>

              </div>

              <!-- City -->
              <div *ngIf="keywordState" style="display: flex;align-items: center; margin-top: 15px;">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="font-weight: 600;font-size: 12px;color: black;">City</div>
              </div>

              <!-- <div style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;">
                <ion-input placeholder="Eg. Petaling Jaya" [(ngModel)]="lead['customer_city']"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px">
                </ion-input>
              </div> -->
              <div *ngIf="keywordState"
                style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;position: relative;">

                <ion-input clearInput placeholder="Select City" [(ngModel)]="keywordCity"
                  (ionFocus)="focus(true, 'this.selectionCity')" (ionBlur)="focus(false, 'this.selectionCity')"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px;">
                </ion-input>

                <div *ngIf="selectionCity"
                  style="width: 100%;max-height: 300px;overflow-y: scroll;border-radius: 5px 2px 2px 5px;z-index: 11;position: absolute;">
                  <div *ngFor="let x of filterer(city, 'this.keywordCity'); let i = index" class="dropdown"
                    (click)="selected(x, 'this.keywordCity', 'this.lead.customer_city')"
                    style="display: flex;align-items: center;  height: 36px; display: flex; align-items: center;  cursor: pointer; width: 100%;">
                    <div style="font-size: 12px; width: calc( 100% -30px );padding-left: 10px;">{{x}}</div>
                  </div>
                </div>

              </div>

              <!-- Services -->
              <div style="display: flex;align-items: center; margin-top: 15px;">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="font-weight: 600;font-size: 12px;color: black;">Services</div>
              </div>

              <div style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;position: relative;">

                <ion-input clearInput placeholder="Select Services" [(ngModel)]="keywordServices"
                  (ionFocus)="focus(true, 'this.selectionServices')" (ionBlur)="focus(false, 'this.selectionServices')"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px;">
                </ion-input>

                <div *ngIf="selectionServices"
                  style="width: 100%;max-height: 200px;overflow-y: scroll;border-radius: 5px 2px 2px 5px;z-index: 11;position: absolute;">
                  <div *ngFor="let x of filterer(services_list, 'this.keywordServices'); let i = index" class="dropdown"
                    (click)="selected(x, 'this.keywordServices', 'this.lead.services')"
                    style="display: flex;align-items: center;  height: 36px; display: flex; align-items: center;  cursor: pointer; width: 100%;">
                    <div style="font-size: 12px; width: calc( 100% -30px );padding-left: 10px;">{{x}}</div>
                  </div>
                </div>

              </div>
              <!-- Issues -->
              <div style="display: flex;align-items: center; margin-top: 15px;">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="font-weight: 600;font-size: 12px;color: black;">Issues <span
                    style="color: #999;font-size: 10px;">(After each area typed, Press ENTER to register)</span></div>
              </div>

              <div style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;">
                <ion-textarea rows="1" auto-grow="true" placeholder="Eg. Kitchen" [(ngModel)]="issuesText"
                  (keyup.enter)="handleIssues(issuesText)" (keydown.enter)="onKeydown($event)"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px">
                  <div style="display: flex;flex-wrap: wrap;">
                    <div *ngFor="let x of lead.issues" style="width: fit-content;display: flex;align-items: center;margin-left: 10px;padding: 0 5px;margin-top: 5px;
                      background: #87BB69;border-radius: 5px;">
                      <div style="padding: 5px;color: white;">{{x}}</div>
                      <ion-icon (click)="issuesSplice(x)" name="close-outline" style="cursor: pointer;"></ion-icon>
                    </div>
                  </div>
                </ion-textarea>
              </div>

              <!-- Address -->
              <div style="display: flex;justify-content: space-between;align-items: center; margin-top: 15px;">
                <div style="display: flex;align-items: center;">
                  <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                  <div style="font-weight: 600;font-size: 12px;color: black;">Address
                    <!-- <span style="color: red;">
                      *</span> -->
                    </div>
                </div>
                <div (click)="resetAddress()" class="create_button"
                  style="width: 100px; cursor: pointer; padding: 5px 7px; border-radius: 10px;margin-top: 5px;">
                  <div
                    style="width: 100%; text-align: center; font-size: 11px; font-weight: 500; letter-spacing: 0.5px; ">
                    Reset Address</div>
                </div>
              </div>

              <div style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;">
                <ion-textarea rows="2" auto-grow="true" placeholder="Eg. No.1 Jalan PJ" [(ngModel)]="lead['address']"
                  (ngModelChange)="clearLatLong()"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px;">
                </ion-textarea>
              </div>

              <!-- Search Info -->
             <div style="color: #888;font-size: 11px;padding: 5px 0;">(Please use search bar inside google map
              for better location accurary. Only use the above field when location not searchable)</div>


              <div style="margin-top: 10px;">
                <div style="width: 100%; display: flex; align-items: center; margin-bottom: 4px;">
                  <input
                    style="background: #ffffff; width: 90%;height: 40px; margin-right: 5px; border: 1px solid rgba(0, 0, 0, 0.5);"
                    type="text" class="my-search-box" (keydown.enter)="$event.preventDefault()"
                    placeholder="Search Location" #search [(ngModel)]="searchAddress" />
                  <ion-icon (click)="clear()" name="close-outline"></ion-icon>
                </div>

                <google-map #myGoogleMap height="430px" width="100%" [zoom]="zoom" [center]="center" [options]="options"
                  (mapClick)="eventHandler($event,'mapClick')" (mapDblclick)="eventHandler($event,'mapDblclick')"
                  (mapDrag)="eventHandler($event,'mapDrag')" (mapDragend)="eventHandler($event,'mapDragend')"
                  (mapRightclick)="eventHandler($event,'mapRightclick')"
                  (positionChanged)="eventHandler($event,'marker_positionChanged')"
                  (zoomChanged)="eventHandler($event,'zoomChanged')">

                  <map-marker #markerElem="mapMarker" *ngFor="let marker of markers" [position]="marker.position"
                    [label]="marker.label" [title]="marker.title" [options]="marker.options"
                    (mapDrag)="eventHandler($event,'mapDragMarker')" (mapDragend)="eventHandler($event,'mapDragend')">
                  </map-marker>

                </google-map>
              </div>


              <!-- Company Address -->
              <div style="display: flex;align-items: center; margin-top: 15px;">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="font-weight: 600;font-size: 12px;color: black;">Company Address</div>
              </div>

              <div style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;">
                <ion-textarea rows="2" auto-grow="true" placeholder="Eg. No.1 Jalan PJ"
                  [(ngModel)]="lead['company_address']"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px;">
                </ion-textarea>
              </div>

              <!-- Channel -->
              <!-- <div style="display: flex;align-items: center; margin-top: 15px;">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="font-weight: 600;font-size: 12px;color: black;">Channel</div>
              </div>

              <div style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;position: relative;">

                <ion-input clearInput placeholder="Select Channel" [(ngModel)]="keywordChannel"
                  (ionFocus)="focus(true, 'this.selectionChannel')" (ionBlur)="focus(false, 'this.selectionChannel')"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px;">
                </ion-input>

                <div *ngIf="selectionChannel"
                  style="width: 100%;max-height: 200px;overflow-y: scroll;border-radius: 5px 2px 2px 5px;z-index: 11;position: absolute;">
                  <div *ngFor="let x of filtererName(channel_list, 'this.keywordChannel'); let i = index"
                    class="dropdown" (click)="selectedAdsChannel(x, 'this.keywordChannel', 'this.lead.channel')"
                    style="display: flex;align-items: center;  height: 36px; display: flex; align-items: center; cursor: pointer; width: 100%;">
                    <div style="font-size: 12px; width: calc( 100% -30px );padding-left: 10px;">{{x.name}}</div>
                  </div>
                </div>

              </div> -->

              <!-- Ads -->
              <div style="display: flex;align-items: center; margin-top: 15px;">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="font-weight: 600;font-size: 12px;color: black;">Ads</div>
              </div>

              <div style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;position: relative;">

                <ion-input clearInput placeholder="Select Ads" [(ngModel)]="keywordAds"
                  (ionFocus)="focus(true, 'this.selectionAds')" (ionBlur)="focus(false, 'this.selectionAds')"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px;">
                </ion-input>

                <div *ngIf="selectionAds"
                  style="width: 100%;max-height: 200px;overflow-y: scroll;border-radius: 5px 2px 2px 5px;z-index: 11;position: absolute;">
                  <div *ngFor="let x of filtererName(ads_list, 'this.keywordAds'); let i = index" class="dropdown"
                    (click)="selectedAdsChannel(x, 'this.keywordAds', 'this.lead.ads')"
                    style="display: flex;align-items: center;  height: 36px; display: flex; align-items: center; cursor: pointer; width: 100%;">
                    <div style="font-size: 12px; width: calc( 100% -30px );padding-left: 10px;">{{x.name}}</div>
                  </div>
                </div>

              </div>

              <!-- Main Label -->
              <!-- <div style="display: flex;align-items: center; margin-top: 15px;">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="font-weight: 600;font-size: 12px;color: black;">Main Label</div>
              </div>
              <div style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;">
                <div style="display: flex;flex-wrap: wrap;">
                  <div (click)="selectLabel(x.name, 'main')"
                    [ngClass]="selectedMainLabel == x.name ? 'select' : 'xselect'" *ngFor="let x of label_main_list"
                    style="width: fit-content;display: flex;align-items: center;padding: 0 5px;margin: 5px ;
                    border-radius: 5px;cursor: pointer;">
                    <div [ngStyle]="{'background': x.colour != null ? x.colour : 'white'}"
                      style="width: 10px;height: 10px"></div>
                    <div style="padding: 5px;font-size: 12px;">{{x.name}}</div>
                  </div>
                </div>
              </div> -->

              <!-- Sub Label -->
              <!-- <div *ngIf="selectedMainLabel != null" style="display: flex;align-items: center; margin-top: 15px;">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="font-weight: 600;font-size: 12px;color: black;">Sub Label</div>
              </div>
              <div *ngIf="selectedMainLabel != null"
                style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;">
                <div style="display: flex;flex-wrap: wrap;">
                  <div (click)="selectLabel(x.name, 'sub')"
                    [ngClass]="selectedSubLabel == x.name ? 'select' : 'xselect'" *ngFor="let x of label_sub_list"
                    style="width: fit-content;display: flex;align-items: center;padding: 0 5px;margin: 5px ;
                    border-radius: 5px;cursor: pointer;">
                    <div [ngStyle]="{'background': x.colour != null ? x.colour : 'white'}"
                      style="width: 10px;height: 10px"></div>
                    <div style="padding: 5px;font-size: 12px;">{{x.name}}</div>
                  </div>
                </div>
              </div> -->

              <!-- Sales Coordinator -->
              <div style="display: flex;align-items: center; margin-top: 15px;">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="font-weight: 600;font-size: 12px;color: black;">Sales Coordinator</div>
              </div>

              <div style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;position: relative;">
                <ion-input readonly placeholder="Eg. Rebecca" [(ngModel)]="lead['sales_coordinator']"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px">
                </ion-input>
                <!-- <ion-input clearInput placeholder="Select Sales Coordinator" [(ngModel)]="keywordSalesCoord"
                  (ionFocus)="focus(true, 'this.selectionSalesCoord')"
                  (ionBlur)="focus(false, 'this.selectionSalesCoord')"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px;">
                </ion-input>
                <div *ngIf="selectionSalesCoord"
                  style="width: 100%;max-height: 200px;overflow-y: scroll;border-radius: 5px 2px 2px 5px;z-index: 11;position: absolute;">
                  <div *ngFor="let x of filtererUsername(sales_coor, 'this.keywordSalesCoord'); let i = index"
                    class="dropdown"
                    (click)="selected(x.user_name, 'this.keywordSalesCoord', 'this.lead.sales_coordinator')"
                    style="display: flex;align-items: center;  height: 36px; display: flex; align-items: center;  cursor: pointer; width: 100%;">
                    <div style="font-size: 12px; width: calc( 100% -30px );padding-left: 10px;">{{x.user_name}}</div>
                  </div>
                </div> -->

              </div>

              <!-- Note to Sales -->
              <!-- <div style="display: flex;align-items: center; margin-top: 15px;">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="font-weight: 600;font-size: 12px;color: black;">Notes to Sales Exec</div>
              </div>

              <div style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;">
                <ion-textarea auto-grow="true" rows="4" placeholder="Eg. Notes" [(ngModel)]="lead['saleexec_note']"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px">
                </ion-textarea>
              </div> -->

              <!-- Remarks Json -->
              <div *ngFor="let x of lead.remark_json; let i = index">
                <div style="display: flex;align-items: center; margin-top: 15px;">
                  <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                  <div style="font-weight: 600;font-size: 12px;color: black;">Remark ({{i+1}}) <span
                      style="font-size: 11px;color: #999;">{{x.date | date: 'dd/MM/yyyy hh:mm a'}}</span></div>
                </div>

                <div style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;">
                  <ion-textarea readonly auto-grow="true" rows="2" placeholder=" -" [(ngModel)]="x.remark"
                    style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px">
                  </ion-textarea>
                </div>
              </div>

              <!-- Remark -->
              <div style="display: flex;align-items: center; margin-top: 15px;">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="font-weight: 600;font-size: 12px;color: black;">Add Remarks<span style="color: red;">
                  *</span></div>
              </div>

              <div style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;">
                <ion-textarea auto-grow="true" rows="4" placeholder="Eg. Remarks" [(ngModel)]="tempRemark"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px">
                </ion-textarea>
              </div>


              <!-- Status -->
              <div style="width: 100%; display: flex; align-items: center; margin-top: 10px;">
                <div style="width: 50px; font-weight: 600;font-size: 12px;color: black;letter-spacing: 0.5px;">
                  Status
                </div>
                <ion-toggle [(ngModel)]="lead['status']" style="padding-left: 5px;"></ion-toggle>
                <div *ngIf="lead['status']" style="color: #6CAD47;font-size: 12px;">Active</div>
                <div *ngIf="!lead['status']" style="color: tomato;font-size: 12px;">Cancelled</div>
              </div>


              <!-- Button -->
              <div style="display: flex;justify-content: flex-end;">

                <div (click)="updateLead()" class="create_button"
                  style="width: 140px; cursor: pointer; padding: 8px 15px; border-radius: 10px;margin-top: 20px;">
                  <div
                    style="width: 100%; text-align: center; font-size: 11px; font-weight: 500; letter-spacing: 0.5px; ">
                    Update Lead</div>
                </div>

              </div>

            </div>

          </div>

          <!-- Appointment -->
          <div *ngIf="tabs == 'appointment'"
            style="width: 100%;border-radius: 0 0 10px 10px;background: white;box-shadow: 0 5px 8px rgba(0, 0, 0, 0.12);padding: 40px;margin-right: 20px;">

            <div>

              <!-- Date -->
              <div style="display: flex;align-items: center; ">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="font-weight: 600;font-size: 12px;color: black;">Appointment Date<span style="color: red;">
                    *</span></div>
              </div>

              <div style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;">
                <!-- <ion-input type="date" placeholder="Eg. Enter Issue Area" [(ngModel)]="lead['date']"
                  (ngModelChange)="SEblur(lead.date)"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px; --padding-end: 20px">
                </ion-input> -->

                <input [(ngModel)]="lead['date']" type="date" onclick="this.showPicker()"
                  style="border: none; background: #F0F8ED; font-size: 12px; width: 100%; padding-top: 10px; padding-bottom: 10px; letter-spacing: 0.5px; padding-left: 10px;padding-right: 10px; border-radius: 10px;">
                
              </div>

              <!-- Time -->
              <div style="display: flex;align-items: center; margin-top: 15px;">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="font-weight: 600;font-size: 12px;color: black;">Appointment Time<span style="color: red;">
                    *</span></div>
              </div>

              <div style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;">
                <!-- <ion-input type="time" [(ngModel)]="lead['time']" mode="ios" (ngModelChange)="SEblur(lead.date)"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px;--padding-end: 18px">
                </ion-input> -->
                <input [(ngModel)]="lead['time']" type="time" onclick="this.showPicker()"
                  style="border: none; background: #F0F8ED; font-size: 12px; width: 100%; padding-top: 10px; padding-bottom: 10px; letter-spacing: 0.5px; padding-left: 10px;padding-right: 10px; border-radius: 10px;">
                
              </div>

              <!-- Sales Person -->
              <div style="display: flex;align-items: center;margin-top: 15px;">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="font-weight: 600;font-size: 12px;color: black;">Sales Executive<span style="color: red;">
                    *</span>
                </div>
              </div>

              <div
                style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;position: relative;padding-right: 12px;">

                <div *ngFor="let x of lead['assigned_to4']">
                  <ion-input readonly clearInput placeholder="{{x}}"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px; --padding-end: 20px;">
                </ion-input>
                </div>
          <!-- <ion-input clearInput placeholder="Select Sales Executive" [(ngModel)]="keywordSalesExec" readonly
                style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px; --padding-end: 20px; visibility: hidden;">
              </ion-input> -->


                <!-- <div *ngIf="selectionSalesExec"
                  style="width: 100%;max-height: 200px;overflow-y: scroll;border-radius: 5px 2px 2px 5px;z-index: 11;position: absolute;">
                  <div *ngFor="let x of filtererUsername(sales_exec, 'this.keywordSalesExec'); let i = index"
                    class="dropdown" (click)="selected(x.user_name, 'this.keywordSalesExec', 'this.lead.sales_exec')"
                    style="display: flex;align-items: center;  height: 36px; display: flex; align-items: center;  cursor: pointer; width: 100%;">
                    <div style="font-size: 12px; width: calc( 100% -30px );padding-left: 10px;">{{x.user_name}}</div>
                  </div>
                </div> -->

              </div>

              <!-- Address -->
              <div style="display: flex;justify-content: space-between;align-items: center; margin-top: 15px;">
                <div style="display: flex;align-items: center;">
                  <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                  <div style="font-weight: 600;font-size: 12px;color: black;">Address<span style="color: red;">
                      *</span></div>
                </div>
                <div (click)="resetAddress()" class="create_button"
                  style="width: 100px; cursor: pointer; padding: 5px 7px; border-radius: 10px;margin-top: 5px;">
                  <div
                    style="width: 100%; text-align: center; font-size: 11px; font-weight: 500; letter-spacing: 0.5px; ">
                    Reset Address</div>
                </div>
              </div>

              <div style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;">
                <ion-textarea rows="2" auto-grow="true" placeholder="Eg. No.1 Jalan PJ" [(ngModel)]="lead['address']"
                  (ngModelChange)="clearLatLong()"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px;">
                </ion-textarea>
              </div>


              <div style="margin-top: 10px;">
                <div style="width: 100%; display: flex; align-items: center; margin-bottom: 4px;">
                  <input style="width: 90%;height: 40px; margin-right: 5px; border: 1px solid rgba(0, 0, 0, 0.5);"
                    type="text" class="my-search-box" (keydown.enter)="$event.preventDefault()"
                    placeholder="Search Location" #search [(ngModel)]="searchAddress" />
                  <ion-icon (click)="clear()" name="close-outline"></ion-icon>
                </div>

                <google-map #myGoogleMap height="430px" width="100%" [zoom]="zoom" [center]="center" [options]="options"
                  (mapClick)="eventHandler($event,'mapClick')" (mapDblclick)="eventHandler($event,'mapDblclick')"
                  (mapDrag)="eventHandler($event,'mapDrag')" (mapDragend)="eventHandler($event,'mapDragend')"
                  (mapRightclick)="eventHandler($event,'mapRightclick')"
                  (positionChanged)="eventHandler($event,'marker_positionChanged')"
                  (zoomChanged)="eventHandler($event,'zoomChanged')">

                  <map-marker #markerElem="mapMarker" *ngFor="let marker of markers" [position]="marker.position"
                    [label]="marker.label" [title]="marker.title" [options]="marker.options"
                    (mapDrag)="eventHandler($event,'mapDragMarker')" (mapDragend)="eventHandler($event,'mapDragend')">
                  </map-marker>

                </google-map>
              </div>

              <!-- Note to Sales -->
              <!-- <div style="display: flex;align-items: center; margin-top: 15px;">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="font-weight: 600;font-size: 12px;color: black;">Notes to Sales Exec</div>
              </div>

              <div style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;">
                <ion-textarea auto-grow="true" rows="4" placeholder="Eg. Notes" [(ngModel)]="lead['saleexec_note']"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px">
                </ion-textarea>
              </div> -->

              <!-- Remark -->
              <div style="display: flex;align-items: center; margin-top: 15px;">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="font-weight: 600;font-size: 12px;color: black;">Remarks</div>
              </div>

              <div style="width: 100%;background: #F0F8ED;border-radius: 10px;margin-top: 5px;">
                <ion-textarea auto-grow="true" rows="4" placeholder="Eg. Remarks" [(ngModel)]="lead['remark']"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px">
                </ion-textarea>
              </div>

              <!-- Status -->
              <div style=" display: flex; align-items: center; ">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="width: 125px; font-weight: 600;font-size: 12px;color: black;letter-spacing: 0.5px;">
                  Is KIV
                </div>
                <div>:</div>
                <ion-toggle [(ngModel)]="lead['kiv']" style="padding-left: 5px;"></ion-toggle>
                <div *ngIf="lead['kiv']" style="color: #6CAD47;font-size: 12px;">True</div>
                <div *ngIf="!lead['kiv']" style="color: rgb(255, 204, 0);font-size: 12px;">No</div>

              </div>

              <div style=" display: flex; align-items: center;">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="width: 125px; font-weight: 600;font-size: 12px;color: black;letter-spacing: 0.5px;">
                  Appointment Status
                </div>
                <div>:</div>
                <ion-toggle [(ngModel)]="lead['appointment_status']" style="padding-left: 5px;"></ion-toggle>
                <div *ngIf="lead['appointment_status']" style="color: #6CAD47;font-size: 12px;">Active</div>
                <div *ngIf="!lead['appointment_status']" style="color: tomato;font-size: 12px;">Cancelled</div>
              </div>

              <!-- Button -->
              <div style="display: flex;justify-content: flex-end;">

                <div (click)="updateAppointment()" class="create_button"
                  style="width: 145px; cursor: pointer; padding: 8px 15px; border-radius: 10px;margin-top: 20px;">
                  <div
                    style="width: 100%; text-align: center; font-size: 11px; font-weight: 500; letter-spacing: 0.5px; ">
                    Update Appointment</div>
                </div>

              </div>

            </div>

          </div>

          <!-- AppointmentSE-->

          <!-- Payment -->
          <div *ngIf="tabs == 'payment'"
            style="min-width: 700px;width: 100%;height: fit-content;border-radius: 0 0 10px 10px;background: white;box-shadow: 0 5px 8px rgba(0, 0, 0, 0.12);padding: 20px 40px 40px 40px;">

            <div *ngIf="payment_list.length > 0" style="display: flex;justify-content: space-between;">
              <div>
                Payment Status: <span
                  [ngStyle]="{'color': lead.sales_status == null ? 'black' : lead.sales_status == 'Quotation' ? 'red' :
                  lead.sales_status == 'Deposit' ? '#f9c92d' : lead.sales_status == 'Full Payment' ? '#6DAD48' : ''}">{{lead.sales_status}}</span>
              </div>
              <div>
                <div style="color: #6CAD47;font-weight: 600;">Total : {{sales_list.total | currency: ' '}}</div>
                <div style="color: #f9c92d;font-weight: 600;font-size: 11px;">Due : RM {{totalDue | currency: ' '}}
                </div>
              </div>
            </div>

            <div *ngIf="payment_list.length <= 0"
              style="display: flex;align-items: center;justify-content: center;font-weight: 600;color: #999;margin-top: 10px;">
              No Payment Made.</div>

            <!-- Time -->
            <div *ngFor="let x of payment_list"
              style="border-radius: 10px;padding: 10px;background: #F0F8ED;margin-top: 15px;">
              <div style="display: flex;justify-content: space-between;">

                <div style="display: flex;font-size: 14px;">

                  <div style="border-radius: 10px;">
                    <img (click)="openPic(x.payment_image)"
                      style="width: 100px;height: 120px;border-radius: 10px;cursor: pointer;" src="{{x.payment_image}}">
                  </div>

                  <div style="margin-left: 15px; font-weight: 500;color: #6CAD47;">
                    <div style="margin-top: 8px;">Payment ID</div>
                    <div style="margin-top: 8px;">Sales ID</div>
                    <div style="margin-top: 8px;">Payment Date</div>
                    <div style="margin-top: 8px;">Capture by</div>
                    <div style="margin-top: 8px;">Payment Amount</div>
                  </div>

                  <div style="margin-left: 15px; font-weight: 500;color: #6CAD47;">
                    <div style="margin-top: 8px;">:</div>
                    <div style="margin-top: 8px;">:</div>
                    <div style="margin-top: 8px;">:</div>
                    <div style="margin-top: 8px;">:</div>
                    <div style="margin-top: 8px;">:</div>
                  </div>

                  <div style="max-width: 80px;margin-left: 15px; font-weight: 500;">
                    <div style="margin-top: 8px;"> {{x.id}}</div>
                    <div style="margin-top: 8px;"> {{x.sales_id}}</div>
                    <div style="margin-top: 8px;"> {{x.payment_date | date: 'dd MMM yyy'}}</div>
                    <div style="margin-top: 8px;"> {{x.created_by}}</div>
                    <div style="margin-top: 8px;"> RM {{x.total | currency : ' '}}</div>
                  </div>

                </div>

              </div>

              <!-- Remark -->
              <div style="display: flex;align-items: center; margin-top: 15px;">
                <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                <div style="font-weight: 600;font-size: 12px;color: black;">Remarks</div>
              </div>

              <div style="width: 100%;background: #fafafa;border-radius: 10px;margin-top: 5px;">
                <ion-textarea readonly auto-grow="true" rows="2" placeholder="-" [(ngModel)]="x.remark"
                  style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px">
                </ion-textarea>
              </div>
            </div>
          </div>

          <!-- Task List -->
          <div *ngIf="tabs == 'tasklist'"
            style="width: 100%;height: fit-content;border-radius: 0 0 10px 10px;background: white;box-shadow: 0 5px 8px rgba(0, 0, 0, 0.12);padding: 20px 40px 40px 40px;margin-right: 20px;">

            <div *ngIf="schedule_list.length > 0">
              <div style="display: flex;align-items: center;justify-content: space-between;margin-top: 20px;">

                <!-- Sub-con -->
                <div style="width: 48%;">

                  <div style="display: flex;align-items: center;">
                    <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                    <div style="font-weight: 600;font-size: 12px;color: black;">Sub-con<span style="color: red;">
                        *</span>
                    </div>
                  </div>

                  <div
                    style="background: #F0F8ED;border-radius: 10px;margin-top: 5px;position: relative;padding-right: 12px;">

                    <ion-input clearInput placeholder="Select Company" [(ngModel)]="keywordCompany"
                      (ionFocus)="focus(true, 'this.selectionCompany')"
                      (ionBlur)="focus(false, 'this.selectionCompany')"
                      style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px; --padding-end: 15px;">
                    </ion-input>

                    <div *ngIf="selectionCompany"
                      style="width: 100%;max-height: 200px;overflow-y: scroll;border-radius: 5px 2px 2px 5px;z-index: 11;position: absolute;">
                      <div *ngFor="let x of filtererName(company_list, 'this.keywordCompany'); let i = index"
                        class="dropdown" (click)="selected(x.name, 'this.keywordCompany', 'this.lead.company')"
                        style="display: flex;align-items: center;  height: 36px; display: flex; align-items: center;  cursor: pointer; width: 100%;">
                        <div style="font-size: 12px; width: calc( 100% -30px );padding-left: 10px;">{{x.name}}</div>
                      </div>
                    </div>

                  </div>
                </div>

                <!-- Time -->
                <div style="width: 48%;">
                  <div style="display: flex;align-items: center;">
                    <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                    <div style="font-weight: 600;font-size: 12px;color: black;">Installation Time</div>
                  </div>

                  <div style="height: 34px;background: #F0F8ED;border-radius: 10px;margin-top: 5px;padding-left: 15px;font-size: 12px;
                    display: flex;align-items: center;">
                    {{schedule_date | date: 'dd-MM-yyyy'}}
                  </div>
                </div>

              </div>
              <div *ngFor="let x of sales_package; let i = index" style="margin-top: 15px;">
                <div style="background-color: #F0F8ED;padding:10px;border-radius: 10px;">

                  <div style="display: flex;justify-content: space-between;align-items: center;">
                    <div style="display: flex;align-items: center;">
                      <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                      <div style="font-weight: 600;font-size: 12px;color: black;">{{x.area}}</div>
                    </div>
                  </div>


                  <div style="width: 100%;display: flex; align-items: center;margin-top: 5px;background: white;
                    border-radius: 10px;padding: 8px;font-size: 12px; font-weight: 450;color: #6CAD47;">
                    <div>Service</div>
                    <div style="margin-left: 3px;">:</div>
                    <div style="margin-left: 5px;color: #000000;">{{x.services}}</div>
                  </div>

                  <div style="width: 100%;display: flex; align-items: center;margin-top: 5px;background: white;
                    border-radius: 10px;padding: 8px;font-size: 12px; font-weight: 450;color: #6CAD47;">
                    <div>Name</div>
                    <div style="margin-left: 11px;">:</div>
                    <div style="margin-left: 5px;color: #000000;">{{x.name || 'No Package'}}</div>
                  </div>

                  <div *ngIf="x.type" style="width: 100%;display: flex; align-items: center;margin-top: 5px;background: white;
                    border-radius: 10px;padding: 8px;font-size: 12px; font-weight: 450;color: #6CAD47;">
                    <div>Type</div>
                    <div style="margin-left: 17px;">:</div>
                    <div style="margin-left: 5px;color: #000000;">{{x.type}}</div>
                  </div>

                  <div style="width: 100%;display: flex; align-items: center;margin-top: 5px;background: white;
                    border-radius: 10px;padding: 8px;font-size: 12px; font-weight: 450;color: #6CAD47;">
                    <div>Sqft</div>
                    <div style="margin-left: 21px;">:</div>
                    <div style="margin-left: 5px;color: #000000;">{{x.sqft}}</div>
                  </div>

                  <div *ngIf="x.sqft == 'others'" style="width: 100%;display: flex; align-items: center;margin-top: 5px;background: white;
                    border-radius: 10px;padding: 8px;font-size: 12px; font-weight: 450;color: #6CAD47;">
                    <div>Size</div>
                    <div style="margin-left: 21px;">:</div>
                    <div style="margin-left: 5px;color: #000000;">{{x.size}}</div>
                  </div>

                  <div *ngIf="x.sqft == 'others'" style="width: 100%;display: flex; align-items: center;margin-top: 5px;background: white;
                    border-radius: 10px;padding: 8px;font-size: 12px; font-weight: 450;color: #6CAD47;">
                    <div>Rate</div>
                    <div style="margin-left: 20px;">:</div>
                    <div style="margin-left: 5px;color: #000000;">{{x.rate}}</div>
                  </div>

                  <div style="width: 100%;display: flex; align-items: center;margin-top: 5px;background: white;
                    border-radius: 10px;padding: 8px;font-size: 12px; font-weight: 450;color: #6CAD47;">
                    <div>Remark</div>
                    <div style="margin-left: 3px;">:</div>
                    <div style="margin-left: 5px;color: #000000;">{{x.remark || '-'}}</div>
                  </div>

                  <img *ngFor="let y of x.pack_image" (click)="openPic(y)"
                    style="min-width: 80px;max-width: 80px;min-height: 90px;max-height: 90px;cursor: pointer;border-radius: 10px;margin: 10px 10px 0 10px;"
                    src="{{y}}" alt="">
                  <!-- <div style=" display: flex;align-items: center;margin-top: 10px;">
                      <ion-icon name="caret-forward-outline" style="color: #87BB69; font-size: 16px;"></ion-icon>
                      <div style="font-weight: 600;font-size: 12px;color: black;">Installation Time</div>
                    </div>

                    <div
                      style="display: flex;justify-content: space-between;background: white;border-radius: 10px;margin-top: 5px;">
                      <ion-input type="date" placeholder="Eg. Enter Issue Area" [(ngModel)]="x.from_date"
                        [min]="startDate"
                        style="font-size: 12px; letter-spacing: 0.5px; --padding-start: 16px; --padding-end: 20px">
                      </ion-input>
                    </div> -->
                </div>
              </div>

            </div>

            <div *ngIf="schedule_list.length <= 0"
              style="display: flex;align-items: center;justify-content: center;font-weight: 600;color: #999;margin-top: 10px;">
              Pending Installer Schedule Date.</div>

            <!-- Button -->
            <div *ngIf="schedule_list.length > 0"
              style="display: flex;align-items: flex-end;flex-direction: column;margin-top: 20px;">

              <div>
                <div
                  [ngStyle]="{'color': sales_list.subcon_state == 'Pending' ? '#f5c22a' : sales_list.subcon_state == 'Rejected' ? '#ff2121' : sales_list.subcon_state == 'Accepted' ? '#87BB69' : ''}"
                  style="margin-bottom: 5px;">Status : {{sales_list.subcon_state}}
                </div>

                <div *ngIf="sales_list.subcon_state != 'Accepted'" (click)="submitTaskList()" class="create_button"
                  style="width: 145px; cursor: pointer; padding: 8px 15px; border-radius: 10px;">
                  <div
                    style="width: 100%; text-align: center; font-size: 11px; font-weight: 500; letter-spacing: 0.5px; ">
                    Submit Tasklist</div>
                </div>
              </div>
            </div>

          </div>

        </div>
      </div>
    </div>

  </div>
</ion-content>

<!-- <div *ngIf="openPicture" style="width: 100%;height: 100%;position: absolute;background: rgba(206, 206, 206, 0.481);
display: flex;align-items: center;justify-content: center;">
  <div style="position: relative;">
    <img style="max-height: 700px;" src="{{img}}" alt="">
    <ion-icon (click)="closePic()"
      style="position: absolute;font-size: 34px;top: -10px;right: -10px;color: red;cursor: pointer;"
      name="close-circle-outline"></ion-icon>
  </div>
</div> -->